import{_ as N}from"./Bduv6Hy0.js";import{r as y,D as q,g as O,v as S,c,a as t,b as o,F as H,q as G,w as v,t as x,n as R,s as C,m as a,T as W,E as Y,l as V,z as E,A as Z,G as J,k as z,H as K,d as m,o as r,y as Q,_ as X}from"./MU1g5_jS.js";import{_ as ee}from"./CMujthrK.js";import{a as $,A as te,S as se,I as oe,b as ae,B as re,c as le,L as ne}from"./DDeRiMao.js";import{u as I,M as ie}from"./DnjEZ02H.js";import{C as de}from"./C4xTdfqK.js";import{P as ue}from"./BTbJ-i4G.js";import{U as me}from"./Wa_62ONY.js";import{S as T}from"./9l07WC5G.js";import{c as ce}from"./CqHiabNb.js";import{E as ve,a as pe}from"./BKa0_FVZ.js";import{L as fe}from"./BO2Y6-4u.js";import{A as ye}from"./BCnSoRPL.js";/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=ce("chef-hat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]),ge=()=>{const p=y(!1),s=y(null),b=q(),{createUser:w}=I();return{loginVendor:async d=>{p.value=!0,s.value=null;try{const u=await $.$_vendor_login(d);if(console.log(u,"tes "),u.type!=="ERROR")return console.log(u,"reshere"),w(u),b.push("/dashboard"),u;s.value=u.data.message||"Login failed"}catch(u){s.value=u.message||"An unexpected error occurred"}finally{p.value=!1}},loading:p,error:s}},xe=()=>{const p=y(!1),s=y(null),{createUser:b}=I();return{loginCustomer:async h=>{p.value=!0,s.value=null;try{const d=await $.$_customer_login(h);if(d.type!=="ERROR")return b(d),d;s.value=d.data.message||"Login failed"}catch(d){s.value=d.message||"An unexpected error occurred"}finally{p.value=!1}},loading:p,error:s}},be={class:"min-h-screen bg-gradient-to-b from-green-50 to-white overflow-hidden"},we={class:"fixed inset-0 pointer-events-none z-0"},he={class:"relative z-10 min-h-screen flex flex-col"},_e={class:"py-6 px-6 md:px-10 bg-white shadow-sm"},ke={class:"container mx-auto flex justify-between items-center"},Ce={class:"flex items-center space-x-4"},Le={class:"flex-1 flex items-center justify-center px-6 py-10"},Me={class:"w-full max-w-5xl grid grid-cols-1 md:grid-cols-2 gap-8 items-center"},Se={class:"hidden md:block relative"},Ve={class:"absolute inset-0 flex flex-col justify-center items-center text-center p-8"},Ee={class:"text-lg text-gray-700 max-w-xs animate-fade-in animation-delay-200"},ze={class:"bg-white rounded-2xl shadow-xl p-8 animate-fade-in animation-delay-300"},Ae={class:"text-center mb-8"},Re={class:"text-gray-600 mt-2"},Te={class:"relative mb-8 overflow-hidden"},je={class:"flex rounded-lg bg-gray-100 p-1 relative"},$e={class:"flex items-center justify-center"},Ie={class:"flex items-center justify-center"},Pe={class:"absolute top-0 left-0 w-full h-full pointer-events-none"},Be={key:"customer",class:"absolute top-1/2 left-1/4 transform -translate-x-1/2 -translate-y-1/2"},Ue={key:"vendor",class:"absolute top-1/2 left-3/4 transform -translate-x-1/2 -translate-y-1/2"},De={class:"form-group"},Fe={class:"relative"},Ne={key:0,class:"form-error"},qe={class:"form-group"},Oe={class:"flex items-center justify-between mb-1"},He={class:"relative"},Ge=["type"],We={key:0,class:"form-error"},Ye={key:0,class:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm"},Ze={class:"flex items-center"},Je={class:"flex items-center h-5"},Ke=["disabled"],Qe={key:0,class:"flex items-center justify-center"},Xe={key:1,class:"group-hover:translate-x-1 transition-transform inline-flex items-center"},et={class:"text-center mt-8"},tt={class:"text-gray-600"},st={class:"py-6 px-6 text-center text-sm text-gray-500 bg-gray-50"},ot={class:"container mx-auto"},at={class:"flex justify-center space-x-6 mb-2"},rt=O({__name:"login",setup(p){const s=y("customer"),b=g=>{s.value=g},{loginVendor:w,loading:h,error:d}=ge(),{loginCustomer:u,loading:P,error:B}=xe(),L=S(()=>s.value==="vendor"?h.value:P.value),_=S(()=>s.value==="vendor"?d.value:B.value),U=S(()=>`Signing in as ${s.value==="customer"?"Customer":"Vendor"}`),l=y({email:"",password:"",rememberMe:!1}),k=y(!1),n=y({}),M=[de,ue,se,oe,ae,re],D=()=>(n.value={},l.value.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.value.email)||(n.value.email="Please enter a valid email address"):n.value.email="Email is required",l.value.password||(n.value.password="Password is required"),Object.keys(n.value).length===0),F=async()=>{if(!D())return;const g={email:l.value.email,password:l.value.password};try{s.value==="vendor"?await w(g):await u(g)}catch(e){console.error("Login error:",e)}},A=g=>{const e=g.target;e.classList.add("animate-pulse-once"),setTimeout(()=>{e.classList.remove("animate-pulse-once")},500)};return(g,e)=>{const f=N;return r(),c("div",be,[t("div",we,[e[6]||(e[6]=t("div",{class:"absolute top-0 right-0 w-1/3 h-1/3 bg-primary/10 rounded-full filter blur-3xl animate-blob"},null,-1)),e[7]||(e[7]=t("div",{class:"absolute bottom-0 left-0 w-1/3 h-1/3 bg-secondary/10 rounded-full filter blur-3xl animate-blob animation-delay-2000"},null,-1)),(r(),c(H,null,G(6,i=>t("div",{key:i,class:"absolute food-icon",style:R({left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,transform:`rotate(${Math.random()*360}deg)`,opacity:.1+Math.random()*.1})},[(r(),z(Q(M[i%M.length]),{class:"w-12 h-12"}))],4)),64))]),t("div",he,[t("header",_e,[t("div",ke,[o(f,{to:"/",class:"flex items-center"},{default:v(()=>e[8]||(e[8]=[t("img",{src:ee,alt:"CTTaste",class:"h-10"},null,-1)])),_:1}),t("div",Ce,[o(f,{to:"/register",class:"text-gray-700 hover:text-primary transition-colors"},{default:v(()=>e[9]||(e[9]=[m(" Create an account ")])),_:1})])])]),t("div",Le,[t("div",Me,[t("div",Se,[e[11]||(e[11]=t("div",{class:"relative z-10 animate-float"},null,-1)),e[12]||(e[12]=t("div",{class:"absolute -bottom-10 -right-10 w-40 h-40 bg-secondary/20 rounded-full filter blur-xl animate-pulse-slow"},null,-1)),e[13]||(e[13]=t("div",{class:"absolute -top-10 -left-10 w-40 h-40 bg-primary/20 rounded-full filter blur-xl animate-pulse-slow animation-delay-500"},null,-1)),t("div",Ve,[e[10]||(e[10]=t("h2",{class:"text-3xl md:text-4xl font-display font-bold text-primary mb-4 animate-fade-in"}," Welcome Back! ",-1)),t("p",Ee," Sign in to "+x(s.value==="customer"?"order your favorite meals":"manage your restaurant"),1)])]),t("div",ze,[t("div",Ae,[e[14]||(e[14]=t("h2",{class:"text-2xl font-semibold text-gray-800"},"Sign In to Satisfy",-1)),t("p",Re," Access your account to "+x(s.value==="customer"?"start ordering":"manage your business"),1)]),t("div",Te,[t("div",je,[t("div",{class:"absolute inset-y-1 transition-all duration-300 ease-out bg-white rounded-md shadow-sm",style:R({width:"calc(50% - 4px)",left:s.value==="customer"?"2px":"calc(50% + 2px)"})},null,4),t("button",{onClick:e[0]||(e[0]=i=>b("customer")),class:C(["flex-1 relative z-10 py-2 px-4 text-center transition-colors duration-300",s.value==="customer"?"text-primary font-medium":"text-gray-600"])},[t("div",$e,[o(a(me),{class:"w-4 h-4 mr-2"}),e[15]||(e[15]=t("span",null,"Customer",-1))])],2),t("button",{onClick:e[1]||(e[1]=i=>b("vendor")),class:C(["flex-1 relative z-10 py-2 px-4 text-center transition-colors duration-300",s.value==="vendor"?"text-primary font-medium":"text-gray-600"])},[t("div",Ie,[o(a(le),{class:"w-4 h-4 mr-2"}),e[16]||(e[16]=t("span",null,"Vendor",-1))])],2)]),t("div",Pe,[o(W,{name:"role-icon",mode:"out-in"},{default:v(()=>[s.value==="customer"?(r(),c("div",Be,[o(a(T),{class:"w-5 h-5 text-primary/20"})])):(r(),c("div",Ue,[o(a(j),{class:"w-5 h-5 text-primary/20"})]))]),_:1})])]),t("form",{onSubmit:Y(F,["prevent"]),class:"space-y-5"},[t("div",De,[e[17]||(e[17]=t("label",{for:"email",class:"form-label"},"Email Address",-1)),t("div",Fe,[E(t("input",{id:"email","onUpdate:modelValue":e[2]||(e[2]=i=>l.value.email=i),type:"email",class:C(["form-input pl-10",{"form-input-error":n.value.email||_.value}]),placeholder:"Enter your email address",onFocus:A},null,34),[[Z,l.value.email]]),o(a(ie),{class:"form-icon"}),n.value.email?(r(),c("span",Ne,x(n.value.email),1)):V("",!0)])]),t("div",qe,[t("div",Oe,[e[19]||(e[19]=t("label",{for:"password",class:"form-label"},"Password",-1)),o(f,{to:"/forgot-password",class:"text-sm text-primary hover:underline"},{default:v(()=>e[18]||(e[18]=[m(" Forgot Password? ")])),_:1})]),t("div",He,[E(t("input",{id:"password","onUpdate:modelValue":e[3]||(e[3]=i=>l.value.password=i),type:k.value?"text":"password",class:C(["form-input pl-10",{"form-input-error":n.value.password||_.value}]),placeholder:"Enter your password",onFocus:A},null,42,Ge),[[J,l.value.password]]),o(a(ne),{class:"form-icon"}),t("button",{type:"button",class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:e[4]||(e[4]=i=>k.value=!k.value)},[k.value?(r(),z(a(pe),{key:1,class:"w-5 h-5"})):(r(),z(a(ve),{key:0,class:"w-5 h-5"}))]),n.value.password?(r(),c("span",We,x(n.value.password),1)):V("",!0)])]),_.value?(r(),c("div",Ye,x(_.value),1)):V("",!0),t("div",Ze,[t("div",Je,[E(t("input",{id:"remember","onUpdate:modelValue":e[5]||(e[5]=i=>l.value.rememberMe=i),type:"checkbox",class:"w-4 h-4 text-primary bg-gray-100 border-gray-300 rounded focus:ring-primary/50"},null,512),[[K,l.value.rememberMe]])]),e[20]||(e[20]=t("div",{class:"ml-3 text-sm"},[t("label",{for:"remember",class:"text-gray-600"}," Remember me ")],-1))]),t("button",{type:"submit",class:"w-full py-3 px-4 bg-gradient-to-r from-primary to-primary-dark text-white font-medium rounded-lg transition-all hover:shadow-lg hover:shadow-primary/30 transform hover:scale-[1.02] disabled:opacity-70 disabled:cursor-not-allowed group",disabled:L.value},[L.value?(r(),c("span",Qe,[o(a(fe),{class:"w-5 h-5 mr-2 animate-spin"}),e[21]||(e[21]=m(" Signing In... "))])):(r(),c("span",Xe,[m(" Sign In as "+x(s.value==="customer"?"Customer":"Vendor")+" ",1),o(a(ye),{class:"ml-2 w-4 h-4"})]))],8,Ke)],32),t("div",et,[t("p",tt,[e[23]||(e[23]=m(" Don't have an account? ")),o(f,{to:"/register",class:"text-primary font-medium hover:underline"},{default:v(()=>e[22]||(e[22]=[m(" Create an account ")])),_:1})])])])])]),t("footer",st,[t("div",ot,[t("div",at,[o(f,{to:"/about",class:"hover:text-primary transition-colors"},{default:v(()=>e[24]||(e[24]=[m("About")])),_:1}),o(f,{to:"/contact",class:"hover:text-primary transition-colors"},{default:v(()=>e[25]||(e[25]=[m("Contact")])),_:1}),o(f,{to:"/privacy",class:"hover:text-primary transition-colors"},{default:v(()=>e[26]||(e[26]=[m("Privacy")])),_:1}),o(f,{to:"/terms",class:"hover:text-primary transition-colors"},{default:v(()=>e[27]||(e[27]=[m("Terms")])),_:1})]),t("p",null,"© "+x(new Date().getFullYear())+" CTTaste. All rights reserved.",1)])])]),o(te,{show:L.value,title:U.value,message:"Please wait while we verify your credentials","center-icon":s.value==="customer"?a(T):a(j),"orbit-icons":M},null,8,["show","title","center-icon"])])}}}),bt=X(rt,[["__scopeId","data-v-4f352982"]]);export{bt as default};
